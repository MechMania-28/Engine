package mech.mania.engine;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.io.IOException;

public class GameEngineTest {

  private GameEngine engine;

  @BeforeEach
  public void setup() {
    this.engine = new GameEngine(0);
  }

  @Test
  public void testPhaseChange() throws IOException {
    for (int i = 0; i < 4; i++) {
      Assertions.assertEquals(engine.getPhaseType(), GamePhaseType.USE);
      engine.execute(String.format("{\"executingPlayerIndex\":%d}", i));
    }
    Assertions.assertEquals(engine.getPhaseType(), GamePhaseType.MOVE);
  }
}
